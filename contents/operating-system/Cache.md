# 캐시(Cache)

- 자주 사용하는 데이터나 값을 미리 복사해 놓은 ‘임시’ 장소이다.
- 캐시에 데이터나 값을 미리 복사해 놓으면 계산이나 접근 시간 없이 빠른 속도로 데이터에 접근할 수 있다.
- 캐시는 운영 체제, 네트워킹, 웹이나 앱, 데이터베이스 등 다양한 분야에서 활용된다.
- 기술이 발전하면서 데이터 처리 시간에 비해 데이터 접근 시간이 느리기 때문에 캐시가 많이 쓰이고 있다.
    
![스크린샷 2022-05-18 15 58 14](https://user-images.githubusercontent.com/75382687/169644171-16ab6ccc-26c8-4920-9ad7-ba27fe18445d.png)
    
(위로 갈수록 용량이 작고 비싸며, 속도가 빠르고 CPU에 가깝다.)

## 캐시의 작동 원리

- 캐시의 데이터는 일반적으로 RAM(Random Access Memory)과 같이 빠르게 액세스할 수 있는 하드웨어에 저장되며, 소프트웨어 구성 요소와 함께 사용될 수 있다. → `캐시 메모리` 
- 기본 스토리지 계층(SSD / HHD)에 접근 또는 DBMS나 서버에 요청하여 데이터를 가져오는 필요성을 줄임으로써 데이터 검색 성능을 향상시킨다.
- 속도를 위해 데이터의 하위 집합을 일시적으로 저장한다.
- 원하는 데이터가 캐시에 존재할 경우, 해당 데이터를 반환한다. → `Cache Hit`
- 원하는 데이터가 캐시에 존재하지 않을 경우, 해당 데이터에 접근하거나 요청한다. → `Cache Miss`
- 원하는 데이터가 캐시에 존재할 확률 → `Cache Hit Ratio`
- 원하는 데이터가 캐시에 존재하지 않을 확률 -> `Cache Miss Ratio`
- Cache Hit Ratio가 낮은(Cache Miss Ratio가 높은) 데이터의 경우 캐시에 저장된 데이터를 변경해야 한다.

## 캐시의 지역성

- 캐시가 효율적으로 동작하려면, 캐시에 저장할 데이터가 지역성을 가져야 한다.
- 지역성이란 정보를 균일하게 접근하는 것이 아닌 어느 한 순간에 특정 부분을 집중적으로 접근하는 특성이다.
- 지역성은 시간적 지역성과 공간적 지역성으로 나뉜다.
- 시간적 지역성
  > 최근에 접근한 데이터에 다시 접근하는 특성
- 공간적 지역성
  > 특정 데이터와 인접한 데이터에 다시 접근하는 특성

## 캐시의 활용

- 일반 캐시
> 기존 스토리지 계층에 접근하는 것보다 빠르게 접근이 가능하기 때문에 고성능 애플리케이션에 효과적이다.

- 통합 캐시
> 데이터베이스에 요청하는 것보다 요청 시간이 단축되고 CPU 및 메모리 사용률이 감소하기 때문에 데이터베이스 성능이 크게 향상된다.

- 데이터베이스 캐싱
> 속도와 처리량 면에서, 데이터베이스가 제공하는 성능은 애플리케이션 전체 성능에 가장 큰 영향을 미친다. 
> 
> 따라서, 데이터베이스 캐싱을 사용하면 애플리케이션의 성능을 높일 수 있다.

- 웹 캐싱
> 사용자에게 웹 콘텐츠를 제공할 때, 디스크 읽기와 서버 로드를 줄이기 때문에 
> 
> 이미지, html 문서, 동영상 등의 웹 자산 검색과 관련된 대부분의 지연 시간을 크게 줄일 수 있다.

- API(Application Programming Interface) 캐싱
> API 응답을 캐싱함으로써, 애플리케이션 서버 및 데이터베이스를 비롯한 인프라에 가해지는 부담을 줄일 수 있고 응답 시간이 빨라지기 때문에
> 
>  API의 성능이 향상된다.

- 세션 관리
> HTTP 세션에는 로그인 정보, 쇼핑 목록, 검색 기록 등 사용자 데이터가 포함되는데, 이 데이터가 여러 캐시에 복제되면 더 높은 가용성을 제공할 수 있다.

- DNS(Domain Name System) 캐싱
> 인터넷의 모든 도메인 요청에는 도메인 이름과 연결된 IP 주소를 확인하기 위해 DNS 캐시 서버를 쿼리한다.

- CDN(Content Delivery Network) 캐싱
> 웹 트래픽이 지리적으로 분산되어 있는 경우, 전 세계에 걸쳐 전체 인프라를 복제하는 방식은 불가능하거나 효율적이지 않다.
> 
> 따라서, CDN이 전 세계적으로 분산된 캐싱 서버에 콘텐츠를 전달할 수 있다.

- 이 외에도 다양한 분야에서 캐시를 활용하고 있으며, 산업군(모바일, IoT, 광고, 게임, 미디어 등) 에서도 캐시를 활용하고 있다.

## 캐시의 장점

- 애플리케이션 성능 개선
> 캐시에서 데이터를 읽어오면 시간이 단축되므로, 애플리케이션의 전반적인 성능이 개선된다.

- 읽기 처리량(IOPS) 증가
> IOPS(Input/Output Operations Per Second)
> 캐시는 속도가 빠르기 때문에 읽기 처리량이 증가한다.

- 데이터베이스 비용 절감
> 캐시가 데이터베이스의 일부를 대체함으로써, 데이터베이스의 처리량 당 비용을 절감시킬 수 있다.

- 백엔드의 부하 감소
> 캐시에 서버에서 받아오는 데이터의 일부를 저장해두면, 많은 클라이언트가 서버에 접근해도 부하가 줄어든다.

- 예측 가능한 성능
> 블랙 프라이데이와 같은 특정 기간에 데이터베이스에 대한 요청이 증가하면 지연시간이 길어지고 애플리케이션 성능 예측이 불가능 해진다.
> 처리량이 높은 캐시를 활용함으로써 이 문제를 완화할 수 있다.

## 캐시의 단점

- 용량이 작고 가격이 매우 비싸다.
- 임시 저장소이기 때문에 데이터가 사라질 가능성에 주의해야 한다.

## 면접 대비

- 캐시(Cache)란?
- 캐시는 어떤 방식으로 작동하는가?
- 캐시의 장점이 무엇인가?
